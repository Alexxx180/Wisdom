<Window x:Class="Wisdom.AddProg"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:bind="clr-namespace:Wisdom.Binds"
        xmlns:forms="clr-namespace:Wisdom.Controls.Forms"
        xmlns:dpforms="clr-namespace:Wisdom.Controls.Forms.DocumentForms.AddDisciplineProgram"
        xmlns:viewmodel="clr-namespace:Wisdom.ViewModel"
        mc:Ignorable="d"
        Title="Редактирование" Height="1080" Width="1920" WindowState="Maximized" Icon="/Wisdom.png">
    <Window.Resources>
        <bind:CompetetionsConverter x:Key="CompetetionsConverter" />
        <bind:UsedValuesConverter x:Key="UsedValuesConverter" />
        <Style TargetType="{x:Type MenuItem}" x:Key="MenuItemTextStyle" >
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type MenuItem}">
                        <Border x:Name="Bd" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}" SnapsToDevicePixels="True" Uid="Border_38">
                            <TextBlock x:Name="CP" TextDecorations="Baseline" Foreground="#FF00A2E8" TextWrapping="NoWrap">
                                <ContentPresenter Content="{TemplateBinding Header}" Grid.Column="1" ContentSource="Header" Margin="{TemplateBinding Padding}" RecognizesAccessKey="True" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" Uid="ContentPresenter_33"/>
                            </TextBlock>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsHighlighted"  Value="True">
                                <Setter Property="Foreground" TargetName="CP" Value="#FFFFFFFF"/>
                                <Setter Property="Background" TargetName="Bd" Value="#FF00A2E8"/>
                                <Setter Property="BorderBrush" TargetName="Bd" Value="#FFEFE4B0"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Setter Property="Background" Value="#FFEFE4B0"></Setter>
            <Setter Property="FontSize" Value="18"></Setter>
            <Setter Property="FontFamily" Value="Arial"></Setter>
        </Style>
        <Style TargetType="{x:Type MenuItem}" x:Key="MenuItemStyle" >
            <Setter Property="Background" Value="#FFEFE4B0"></Setter>
            <Setter Property="FontSize" Value="18"></Setter>
            <Setter Property="FontFamily" Value="Arial"></Setter>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type MenuItem}">
                        <Border x:Name="Bd" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}" SnapsToDevicePixels="True" Uid="Border_38">
                            <Label x:Name="CP" Foreground="#FF00A2E8">
                                <ContentPresenter Content="{TemplateBinding Header}" Grid.Column="1" ContentSource="Header" Margin="{TemplateBinding Padding}" RecognizesAccessKey="True" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" Uid="ContentPresenter_33"/>
                            </Label>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsHighlighted"  Value="True">
                                <Setter Property="Foreground" TargetName="CP" Value="#FFFFFFFF"/>
                                <Setter Property="Background" TargetName="Bd" Value="#FF00A2E8"/>
                                <Setter Property="BorderBrush" TargetName="Bd" Value="#FFEFE4B0"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>
    
    <Window.DataContext>
        <viewmodel:DisciplineProgramViewModel x:Name="DisciplineViewModel" />
    </Window.DataContext>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="0.05*"/>
            <RowDefinition Height="0.95*"/>
        </Grid.RowDefinitions>

        <Grid Background="#FF00A2E8" Visibility="Visible">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="0.05*"/>
                <ColumnDefinition Width="0.9*"/>
                <ColumnDefinition Width="0.05*"/>
            </Grid.ColumnDefinitions>

            <Grid Grid.Row="1" Grid.Column="1" Visibility="Visible">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="0.3*"/>
                    <ColumnDefinition Width="0.025*"/>
                    <ColumnDefinition Width="0.35*"/>
                    <ColumnDefinition Width="0.025*"/>
                    <ColumnDefinition Width="0.05*"/>
                    <ColumnDefinition Width="0.025*"/>
                    <ColumnDefinition Width="0.05*"/>
                    <ColumnDefinition Width="0.025*"/>
                    <ColumnDefinition Width="0.15*"/>
                </Grid.ColumnDefinitions>

                <TextBox x:Name="Program" Text="Программа" Style="{StaticResource CaptionBox}" MaxLength="200" />

                <Grid Grid.Column="2">
                    <Grid.DataContext>
                        <viewmodel:SwitchGroup x:Name="StepsGroup" />
                    </Grid.DataContext>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="0.15*"/>
                        <ColumnDefinition Width="0.02*"/>
                        <ColumnDefinition Width="0.15*"/>
                        <ColumnDefinition Width="0.02*"/>
                        <ColumnDefinition Width="0.15*"/>
                        <ColumnDefinition Width="0.02*"/>
                        <ColumnDefinition Width="0.15*"/>
                        <ColumnDefinition Width="0.02*"/>
                        <ColumnDefinition Width="0.15*"/>
                        <ColumnDefinition Width="0.02*"/>
                        <ColumnDefinition Width="0.15*"/>
                    </Grid.ColumnDefinitions>

                    <!--<forms:Switcher Grid.Column="0" Text="1"
                                    Group="{Binding ElementName=StepsGroup}"
                                    Element="{Binding ElementName=Page1}">
                        <forms:Switcher.ViewStyle>
                            <StaticResource ResourceKey="AutoSteps"/>
                        </forms:Switcher.ViewStyle>
                    </forms:Switcher>

                    <forms:Switcher Grid.Column="2" Text="2"
                                    Group="{Binding ElementName=StepsGroup}"
                                    Element="{Binding ElementName=Page2}">
                        <forms:Switcher.ViewStyle>
                            <StaticResource ResourceKey="AutoSteps"/>
                        </forms:Switcher.ViewStyle>
                    </forms:Switcher>

                    <forms:Switcher Grid.Column="4" Text="3"
                                    Group="{Binding ElementName=StepsGroup}"
                                    Element="{Binding ElementName=Page3}">
                        <forms:Switcher.ViewStyle>
                            <StaticResource ResourceKey="AutoSteps"/>
                        </forms:Switcher.ViewStyle>
                    </forms:Switcher>

                    <forms:Switcher Grid.Column="6" Text="4"
                                    Group="{Binding ElementName=StepsGroup}"
                                    Element="{Binding ElementName=Page3}">
                        <forms:Switcher.ViewStyle>
                            <StaticResource ResourceKey="AutoSteps"/>
                        </forms:Switcher.ViewStyle>
                    </forms:Switcher>-->
                </Grid>

                <!--<Button Click="Stepping" Tag="{x:Reference Name=Preview}" x:Name="PreviewStep" Grid.Column="14" Style="{StaticResource Steps2}">
                    <Viewbox>
                        <TextBlock Text="|=:|" />
                    </Viewbox>
                </Button>-->

                <Button Click="MakeUserTemplate" Grid.Column="6" Style="{StaticResource Steps}">
                    <Viewbox>
                        <TextBlock Text="★" />
                    </Viewbox>
                </Button>

                <Button x:Name="Create" Click="Create_Click" Grid.Column="8" IsDefault="True" Style="{StaticResource Steps}">
                    <Viewbox>
                        <TextBlock Text="Подтвердить" Padding="2" />
                    </Viewbox>
                </Button>
            </Grid>

            <Grid Grid.Row="1" Grid.Column="1" Visibility="Hidden">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="0.675*"/>
                    <ColumnDefinition Width="0.05*"/>
                    <ColumnDefinition Width="0.225*"/>
                </Grid.ColumnDefinitions>

                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <Label Content="Программа" HorizontalAlignment="Left" Margin="0,0,0,0" Grid.Row="1" VerticalAlignment="Top" Foreground="White" Padding="0,0,0,0" FontFamily="Cambria" FontSize="30" Panel.ZIndex="2" FontWeight="Bold"/>
                <Button x:Name="Accept" Content="Подтвердить" Grid.Column="2" HorizontalAlignment="Stretch" Margin="0,0,0,0"  VerticalAlignment="Stretch" FontSize="23" IsDefault="True" FontFamily="Cambria" FontWeight="Bold" Background="#FFEFE4B0" BorderBrush="#FFEFE4B0" Foreground="#FF00A2E8" BorderThickness="3,3,3,3"/>
            </Grid>
        </Grid>

        <dpforms:HoursPart x:Name="Page1" Grid.Row="1" ViewModel="{Binding ElementName=DisciplineViewModel}" Visibility="Hidden" />

        <dpforms:CompetetionsPart x:Name="Page2" Grid.Row="1" ViewModel="{Binding ElementName=DisciplineViewModel}" Visibility="Hidden" />

        <dpforms:ThemePlanPart x:Name="Page3" Grid.Row="1" ViewModel="{Binding ElementName=DisciplineViewModel}" Visibility="Hidden" />

        <dpforms:MetaDataPart x:Name="Page4" Grid.Row="1" ViewModel="{Binding ElementName=DisciplineViewModel}" Visibility="Hidden" />
    </Grid>
</Window>